# olx-scraper

www.olx.pl/api/v1/seo/d/content/?category_id=True&locale=pl

https://www.olx.pl/api/v1/seo/d/content/?category_id=103&locale=pl

https://www.olx.pl/apigateway/graphql
Post:
fetch("https://www.olx.pl/apigateway/graphql", {
  "headers": {
    "accept": "application/json",
    "accept-language": "pl",
    "content-type": "application/json",
    "priority": "u=1, i",
    "sec-ch-ua": "\"Not(A:Brand\";v=\"99\", \"Opera GX\";v=\"118\", \"Chromium\";v=\"133\"",
    "sec-ch-ua-mobile": "?0",
    "sec-ch-ua-platform": "\"Windows\"",
    "sec-fetch-dest": "empty",
    "sec-fetch-mode": "cors",
    "sec-fetch-site": "same-origin"
  },
  "referrer": "https://www.olx.pl/zwierzeta/",
  "referrerPolicy": "strict-origin-when-cross-origin",
  "body": "{\"query\":\"query ListingSearchQuery(\\n  $searchParameters: [SearchParameter!] = {key: \\\"\\\", value: \\\"\\\"}\\n) {\\n  clientCompatibleListings(searchParameters: $searchParameters) {\\n    __typename\\n    ... on ListingSuccess {\\n      __typename\\n      data {\\n        id\\n        location {\\n          city {\\n            id\\n            name\\n            normalized_name\\n            _nodeId\\n          }\\n          district {\\n            id\\n            name\\n            normalized_name\\n            _nodeId\\n          }\\n          region {\\n            id\\n            name\\n            normalized_name\\n            _nodeId\\n          }\\n        }\\n        last_refresh_time\\n        delivery {\\n          rock {\\n            active\\n            mode\\n            offer_id\\n          }\\n        }\\n        created_time\\n        category {\\n          id\\n          type\\n          _nodeId\\n        }\\n        contact {\\n          courier\\n          chat\\n          name\\n          negotiation\\n          phone\\n        }\\n        business\\n        omnibus_pushup_time\\n        photos {\\n          link\\n          height\\n          rotation\\n          width\\n        }\\n        promotion {\\n          highlighted\\n          top_ad\\n          options\\n          premium_ad_page\\n          urgent\\n          b2c_ad_page\\n        }\\n        protect_phone\\n        shop {\\n          subdomain\\n        }\\n        title\\n        status\\n        url\\n        user {\\n          id\\n          uuid\\n          _nodeId\\n          about\\n          b2c_business_page\\n          banner_desktop\\n          banner_mobile\\n          company_name\\n          created\\n          is_online\\n          last_seen\\n          logo\\n          logo_ad_page\\n          name\\n          other_ads_enabled\\n          photo\\n          seller_type\\n          social_network_account_type\\n        }\\n        offer_type\\n        params {\\n          key\\n          name\\n          type\\n          value {\\n            __typename\\n            ... on GenericParam {\\n              key\\n              label\\n            }\\n            ... on CheckboxesParam {\\n              label\\n              checkboxParamKey: key\\n            }\\n            ... on PriceParam {\\n              value\\n              type\\n              previous_value\\n              previous_label\\n              negotiable\\n              label\\n              currency\\n              converted_value\\n              converted_previous_value\\n              converted_currency\\n              arranged\\n              budget\\n            }\\n            ... on SalaryParam {\\n              from\\n              to\\n              arranged\\n              converted_currency\\n              converted_from\\n              converted_to\\n              currency\\n              gross\\n              type\\n            }\\n            ... on ErrorParam {\\n              message\\n            }\\n          }\\n        }\\n        _nodeId\\n        description\\n        external_url\\n        key_params\\n        partner {\\n          code\\n        }\\n        map {\\n          lat\\n          lon\\n          radius\\n          show_detailed\\n          zoom\\n        }\\n        safedeal {\\n          allowed_quantity\\n          weight_grams\\n        }\\n        valid_to_time\\n      }\\n      metadata {\\n        filter_suggestions {\\n          category\\n          label\\n          name\\n          type\\n          unit\\n          values {\\n            label\\n            value\\n          }\\n          constraints {\\n            type\\n          }\\n          search_label\\n        }\\n        search_id\\n        total_elements\\n        visible_total_count\\n        source\\n        search_suggestion {\\n          url\\n          type\\n          changes {\\n            category_id\\n            city_id\\n            distance\\n            district_id\\n            query\\n            region_id\\n            strategy\\n            excluded_category_id\\n          }\\n        }\\n        facets {\\n          category {\\n            id\\n            count\\n            label\\n            url\\n          }\\n          category_id_1 {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          category_id_2 {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          category_without_exclusions {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          category_id_3_without_exclusions {\\n            id\\n            count\\n            label\\n            url\\n          }\\n          city {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          district {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          owner_type {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          region {\\n            id\\n            count\\n            label\\n            url\\n          }\\n          scope {\\n            id\\n            count\\n            label\\n            url\\n          }\\n        }\\n        new\\n        promoted\\n      }\\n      links {\\n        first {\\n          href\\n        }\\n        next {\\n          href\\n        }\\n        previous {\\n          href\\n        }\\n        self {\\n          href\\n        }\\n      }\\n    }\\n    ... on ListingError {\\n      __typename\\n      error {\\n        code\\n        detail\\n        status\\n        title\\n        validation {\\n          detail\\n          field\\n          title\\n        }\\n      }\\n    }\\n  }\\n}\\n\",\"variables\":{\"searchParameters\":[{\"key\":\"offset\",\"value\":\"0\"},{\"key\":\"limit\",\"value\":\"40\"},{\"key\":\"category_id\",\"value\":\"103\"},{\"key\":\"filter_refiners\",\"value\":\"spell_checker\"},{\"key\":\"suggest_filters\",\"value\":\"true\"},{\"key\":\"sl\",\"value\":\"192f31f837cx460d9c6b\"}]}}",
  "method": "POST",
  "mode": "cors",
  "credentials": "include"
});


curl 'https://www.olx.pl/apigateway/graphql' \
  -H 'accept: application/json' \
  -H 'accept-language: pl' \
  -H 'content-type: application/json' \
  -b 'deviceGUID=3a244c75-ee5f-4b52-91e3-5d42f256260a; a_access_token=14cc251ac944ea804ab41a94dff99aabed3e82f0; a_refresh_token=86ec0d8ad3092d5ee543ba19182c81ab7b159ab6; a_grant_type=device; OptanonAlertBoxClosed=2024-11-03T17:43:01.725Z; eupubconsent-v2=CQHgtVgQHgtVgAcABBENBOF8AP_gAAAAAAYgKENV_G_fbXlj8X50aftkeY1f99h7rsQxBhfJk-4FyLuW_JwX32EzNA16pqYKmRIAu3TBIQFlGIDUBUCgaogVrTDMaECEgTNKJ6BEiFMRc2dYCF5vmwFD-QCY5tpt91d52Ret7dr83dzyy4Vnn3Kp_2a1WJCdA5cgAAAAAAAAAAAAAAAQAAAAAAAAAQAIAAAAAAAAAAAAAAAAAAAAF_cAAAAPnAAAAUEgfgAIAAXABQAFQAOAAeABBAC8ANQAeABEACYAFUAN4AegA_ACEgEMARIAjgBLACaAGAAMOAZQBlgDZAHPAO4A74B7AHxAPsA_YB_gIAARSAi4CMAEaAJLAT8BQYCoAKuAXMAvQBigDRAG0ANwAcSBHoEiAJ2AUOAo8BSIC2AFyALvAXmAw2BkYGSAMnAZcAzMBnMDVwNZAbGA28BuoDggHJgOXCAFQAHAAkACOAQcAjgBNAC-gJWATaApABYQCxAF5AMQAYsAyEBowDUwG0ANuAboOAUAAIgAcAB4AFwASAA_ACOAGgARwA5ACAQEHAQgAiIBHACaAFQAOkAlYBMQCZQE2gKTAV2AsQBagC6AGCAMQAYsAyEBkwDRgGpgNeAbQA2wBtwDdAHHgOWgc6Bz46CSAAuACgAKgAcABBAC4ANQAeABEACYAFWALgAugBiADeAHoAP0AhgCJAEsAJoAUYAwABhgDKAGiANkAc8A7gDvAHtAPsA_QB_wEUARiAjoCSwE_AUGAqICrgFiALnAXkBegDFAG0ANwAcQA6gB9gEXwI9AkQBMgCdgFDwKPApABTQCrAFigLYAW6AuABcgC7QF3gLzAX0Aw0Bj0DIwMkAZOAyqBlgGXAMzAZyA02Bq4GsANvAbqA4sByYDlyABQABAADwA0ADkAI4AWIAvoCbQFJgLEAXkAwQBngDRgGpgNsAbcA3QBywDnyECAABYAFAAXAA1ACqAFwAMQAbwA9ACOAGAAOeAdwB3gD_AIoASkAoMBUQFXALmAYoA2gB1AEegKaAVYAsUBaIC4AFyAMjAZOAzklAhAAQAAsACgAHAAeABEACYAFUALgAYoBDAESAI4AUYAwABsgDvAH5AVEBVwC5gGKAOoAiYBF8CPQJEAUeAsUBbAC84GRgZIAycBnIDWAG3kgCIAFwAjgDuAIAAQcAjgBUAErAJiATaApMBiwDLAGeANyAboA5YpA5AAXABQAFQAOAAgABoADwAIgATAAqgBiAD9AIYAiQBRgDAAGUANEAbIA5wB3wD8AP0AiwBGICOgJKAUGAqICrgFzALyAYoA2gBuADqAHtAPsAiYBF8CPQJEATsAocBSACrAFigLYAXAAuQBdoC8wF9AMNgZGBkgDJ4GWAZcAzmBrAGsgNvAbqA4IByZQA-ABcAEgALgAZABHAEcAOQAdwA-wCAAEHALEAXUA14B2wD_gJiATaAqQBXYC6AF5AMEAYsAyYBngDRgGpgNeAboA5Y.f_wAAAAAAAAA; OTAdditionalConsentString=1~89.318.320.1421.1423.1659.1985.1987.2008.2072.2135.2322.2465.2501.2958.2999.3028.3225.3226.3231.3234.3235.3236.3237.3238.3240.3244.3245.3250.3251.3253.3257.3260.3270.3272.3281.3288.3290.3292.3293.3296.3299.3300.3306.3307.3309.3314.3315.3316.3318.3324.3328.3330.3331.3531.3731.3831.4131.4531.4631.4731.4831.5231.6931.7235.7831.7931.8931.9731.10231.10631.10831.11031.11531.12831.13632.13731.14237.14332.15731.16831.16931.21233.23031.25731.25931.26031.26831.27731.27831.28031.28731.28831.29631.31631.32531.33631.34231.34631.36831; user_business_status=private; user_id=1662798302; __user_id_P&S=1662798302; user_id_recs=1662798302; user_uuid=1a587315-b883-47b6-b630-c040ee811862; session_start_date=1748623141492; laquesis=erm-1722@b#erm-1929@a#eupp-3280@b#jobs-9070@a#oecs-946@b#ser-1428@b; laquesisff=a2b-000#aut-1425#aut-388#bl-2928#buy-2279#buy-2489#buy-4410#cou-1670#dat-2874#de-1927#de-1928#de-2170#de-2547#de-2559#de-2724#decision-256#do-2963#do-3418#euit-2250#euonb-114#eus-1773#f8nrp-1779#grw-124#jobs-7611#kuna-307#kuna-554#kuna-603#mart-1341#mou-1052#oec-1238#oesx-1437#oesx-2063#oesx-2798#oesx-2864#oesx-2926#oesx-3069#oesx-3150#oesx-3713#oesx-4295#oesx-645#oesx-867#olxeu-0000#pos-2021#rm-28#rm-707#rm-780#rm-824#rm-852#sd-2240#sd-2759#sd-3192#sd-570#srt-1289#srt-1346#srt-1434#srt-1593#srt-1758#srt-683#uacc-529#uacc-561#udp-1535#ul-3512#ul-3704#up-90; PHPSESSID=28u45q2mu9jladol104hh6t1st; lqstatus=1748622597|1950c309243x78bcfaaf|dv-3239|||0; mobile_default=desktop; ldTd=true; OptanonConsent=isGpcEnabled=0&datestamp=Fri+May+30+2025+18%3A11%3A16+GMT%2B0200+(Central+European+Summer+Time)&version=202402.1.0&isIABGlobal=false&hosts=&genVendors=V10%3A0%2C&consentId=7c6b81ac-05e0-4117-b953-57a1dac47d56&interactionCount=4&landingPath=NotLandingPage&groups=C0001%3A1%2CC0002%3A1%2CC0003%3A1%2CC0004%3A1%2Cgad%3A1&geolocation=PL%3B14&AwaitingReconsent=false&browserGpcFlag=0&isAnonUser=1; onap=192f31f837cx460d9c6b-13-19721f436f4x58b112b7-26-1748623283' \
  -H 'origin: https://www.olx.pl' \
  -H 'priority: u=1, i' \
  -H 'referer: https://www.olx.pl/zwierzeta/' \
  -H 'sec-ch-ua: "Not(A:Brand";v="99", "Opera GX";v="118", "Chromium";v="133"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "Windows"' \
  -H 'sec-fetch-dest: empty' \
  -H 'sec-fetch-mode: cors' \
  -H 'sec-fetch-site: same-origin' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 OPR/118.0.0.0' \
  --data-raw $'{"query":"query ListingSearchQuery(\\n  $searchParameters: [SearchParameter\u0021] = {key: \\"\\", value: \\"\\"}\\n) {\\n  clientCompatibleListings(searchParameters: $searchParameters) {\\n    __typename\\n    ... on ListingSuccess {\\n      __typename\\n      data {\\n        id\\n        location {\\n          city {\\n            id\\n            name\\n            normalized_name\\n            _nodeId\\n          }\\n          district {\\n            id\\n            name\\n            normalized_name\\n            _nodeId\\n          }\\n          region {\\n            id\\n            name\\n            normalized_name\\n            _nodeId\\n          }\\n        }\\n        last_refresh_time\\n        delivery {\\n          rock {\\n            active\\n            mode\\n            offer_id\\n          }\\n        }\\n        created_time\\n        category {\\n          id\\n          type\\n          _nodeId\\n        }\\n        contact {\\n          courier\\n          chat\\n          name\\n          negotiation\\n          phone\\n        }\\n        business\\n        omnibus_pushup_time\\n        photos {\\n          link\\n          height\\n          rotation\\n          width\\n        }\\n        promotion {\\n          highlighted\\n          top_ad\\n          options\\n          premium_ad_page\\n          urgent\\n          b2c_ad_page\\n        }\\n        protect_phone\\n        shop {\\n          subdomain\\n        }\\n        title\\n        status\\n        url\\n        user {\\n          id\\n          uuid\\n          _nodeId\\n          about\\n          b2c_business_page\\n          banner_desktop\\n          banner_mobile\\n          company_name\\n          created\\n          is_online\\n          last_seen\\n          logo\\n          logo_ad_page\\n          name\\n          other_ads_enabled\\n          photo\\n          seller_type\\n          social_network_account_type\\n        }\\n        offer_type\\n        params {\\n          key\\n          name\\n          type\\n          value {\\n            __typename\\n            ... on GenericParam {\\n              key\\n              label\\n            }\\n            ... on CheckboxesParam {\\n              label\\n              checkboxParamKey: key\\n            }\\n            ... on PriceParam {\\n              value\\n              type\\n              previous_value\\n              previous_label\\n              negotiable\\n              label\\n              currency\\n              converted_value\\n              converted_previous_value\\n              converted_currency\\n              arranged\\n              budget\\n            }\\n            ... on SalaryParam {\\n              from\\n              to\\n              arranged\\n              converted_currency\\n              converted_from\\n              converted_to\\n              currency\\n              gross\\n              type\\n            }\\n            ... on ErrorParam {\\n              message\\n            }\\n          }\\n        }\\n        _nodeId\\n        description\\n        external_url\\n        key_params\\n        partner {\\n          code\\n        }\\n        map {\\n          lat\\n          lon\\n          radius\\n          show_detailed\\n          zoom\\n        }\\n        safedeal {\\n          allowed_quantity\\n          weight_grams\\n        }\\n        valid_to_time\\n      }\\n      metadata {\\n        filter_suggestions {\\n          category\\n          label\\n          name\\n          type\\n          unit\\n          values {\\n            label\\n            value\\n          }\\n          constraints {\\n            type\\n          }\\n          search_label\\n        }\\n        search_id\\n        total_elements\\n        visible_total_count\\n        source\\n        search_suggestion {\\n          url\\n          type\\n          changes {\\n            category_id\\n            city_id\\n            distance\\n            district_id\\n            query\\n            region_id\\n            strategy\\n            excluded_category_id\\n          }\\n        }\\n        facets {\\n          category {\\n            id\\n            count\\n            label\\n            url\\n          }\\n          category_id_1 {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          category_id_2 {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          category_without_exclusions {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          category_id_3_without_exclusions {\\n            id\\n            count\\n            label\\n            url\\n          }\\n          city {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          district {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          owner_type {\\n            count\\n            id\\n            label\\n            url\\n          }\\n          region {\\n            id\\n            count\\n            label\\n            url\\n          }\\n          scope {\\n            id\\n            count\\n            label\\n            url\\n          }\\n        }\\n        new\\n        promoted\\n      }\\n      links {\\n        first {\\n          href\\n        }\\n        next {\\n          href\\n        }\\n        previous {\\n          href\\n        }\\n        self {\\n          href\\n        }\\n      }\\n    }\\n    ... on ListingError {\\n      __typename\\n      error {\\n        code\\n        detail\\n        status\\n        title\\n        validation {\\n          detail\\n          field\\n          title\\n        }\\n      }\\n    }\\n  }\\n}\\n","variables":{"searchParameters":[{"key":"offset","value":"0"},{"key":"limit","value":"40"},{"key":"category_id","value":"103"},{"key":"filter_refiners","value":"spell_checker"},{"key":"suggest_filters","value":"true"},{"key":"sl","value":"192f31f837cx460d9c6b"}]}}'